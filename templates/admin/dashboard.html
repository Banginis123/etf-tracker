<!DOCTYPE html>
<html lang="lt">
<head>
    <meta charset="utf-8">
    <title>ETF Admin Dashboard</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <style>
        * { box-sizing: border-box; }
        body { margin: 0; font-family: system-ui, sans-serif; }
        .page { padding: 16px 12px; }
        @media (min-width: 768px) {
            .page { max-width: 1100px; margin: 0 auto; }
        }
        header { display: flex; justify-content: center; margin-bottom: 12px; }
        h2 { margin: 0; font-size: clamp(1.8rem, 4vw, 2.4rem); }
        nav { display: flex; justify-content: center; gap: 16px; margin-bottom: 12px; flex-wrap: wrap; }
        nav a { text-decoration: none; font-weight: 600; }
        hr { margin: 16px 0 24px; }
        .section-header { display: flex; align-items: center; gap: 12px; margin-bottom: 10px; }
        table { width: 100%; border-collapse: collapse; font-size: 0.95rem; margin-bottom: 28px; }
        th, td { padding: 4px 6px; border-bottom: 1px solid #ddd; }
        thead th { background: #f5f5f5; font-weight: 600; text-align: center; }
        td.center { text-align: center; }
        td.actions { text-align: center; white-space: nowrap; }
        .buy { color: #0a7a0a; font-weight: 600; }
        .sell { color: #b00020; font-weight: 600; }
    </style>
</head>
<body>

<div class="page">

<header>
    <h2>üìä ETF Admin</h2>
</header>

<nav>
    <a href="/">üè† Portfolio</a>
    <a href="/admin/alerts">üö® Alerts</a>
    <a href="/admin/etfs">üì¶ ETF'ai</a>
</nav>

<hr>

<div class="section-header">
    <h3>üíº Transactions</h3>
    <a href="/admin/purchases/new">‚ûï Add transaction</a>
</div>

<table>
    <thead>
        <tr>
            <th>ETF</th>
            <th>Type</th>
            <th>Units</th>
            <th>Price</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for p in purchases %}
        <tr>
            <td class="center">{{ p.etf.ticker }}</td>

            {% if p.units >= 0 %}
                <td class="center buy">BUY</td>
                <td class="center">{{ "%.3f"|format(p.units) }}</td>
            {% else %}
                <td class="center sell">SELL</td>
                <td class="center">{{ "%.3f"|format(-p.units) }}</td>
            {% endif %}

            <td class="center">{{ "%.2f"|format(p.price) }}</td>

            <td class="actions">
                <a href="/admin/purchases/{{ p.id }}/edit">‚úè Edit</a>
                <a href="/admin/purchases/{{ p.id }}/delete"
                   onclick="return confirm('Delete transaction?')">üóë Delete</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

</div>
</body>
</html>
